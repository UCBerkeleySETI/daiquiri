{% load i18n %}

<div class="panel panel-default">
    <div class="panel-heading">
        {% trans 'Database status' %}
    </div>
    <div class="panel-body">
        There are 5 jobs in the queue.
You are using the guest user. For a personal account, please sign up here.
The guest user is using 28.1 MB of its quota of 100.0 MB.
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        {% trans 'New query job' %}
    </div>
    <ul class="list-group">
        {% for form in forms %}

        <li class="list-group-item list-group-link">
            <a href=""
                ng-click="service.forms['{{ form.key }}'].activate()"
                ng-class="{active: service.form == '{{ form.key }}'}">
                {{ form.label }}
            </a>
        </li>

        {% endfor %}
    </ul>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        {% trans 'Job list' %}
    </div>
    <ul class="list-group daiquiri-query-joblist">
        <li class="list-group-item" ng-if="!service.jobs.length">
            {% trans 'No jobs found.' %}
        </li>
        <li class="list-group-item list-group-link" ng-repeat="job in service.jobs">
            <a href="" ng-click="service.activateJob(job)" ng-class="{active: service.job.id == job.id}">
                <div class="pull-right">
                    <i class="fa fa-pause" title="PENDING" ng-show="job.phase == 'PENDING'"></i>
                    <i class="fa fa-spinner fa-spin" title="QUEUED" ng-show="job.phase == 'QUEUED'"></i>
                    <i class="fa fa-play" title="EXECUTING" ng-show="job.phase == 'EXECUTING'"></i>
                    <i class="fa fa-check" title="COMPLETED" ng-show="job.phase == 'COMPLETED'"></i>
                    <i class="fa fa-warning" title="ERROR" ng-show="job.phase == 'ERROR'"></i>
                    <i class="fa fa-remove" title="ABORTED" ng-show="job.phase == 'ABORTED'"></i>
                    <i class="fa fa-question" title="UNKNOWN" ng-show="job.phase == 'UNKNOWN'"></i>
                    <i class="fa fa-stop" title="HELD" ng-show="job.phase == 'HELD'"></i>
                    <i class="fa fa-pause" title="SUSPENDED" ng-show="job.phase == 'SUSPENDED'"></i>
                    <i class="fa fa-ban" title="ARCHIVED" ng-show="job.phase == 'ARCHIVED'"></i>
                </div>
                <div>{$ job.table_name $}</div>
            </a>
        </li>
    </ul>
</div>
